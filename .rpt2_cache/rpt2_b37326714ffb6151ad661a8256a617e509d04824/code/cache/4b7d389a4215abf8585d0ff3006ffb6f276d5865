{
  "code": "import StaticData from \"../data/StaticData\";\r\nimport LeadOutUtil from \"../utils/LeadOutUtil\";\r\nimport GamePlatform from \"../adapter/GamePlatform\";\r\nexport default class LeadOutGridRunTime extends Laya.Sprite {\r\n    constructor() {\r\n        super();\r\n        LeadOutGridRunTime._instance = this;\r\n    }\r\n    static getInstance() {\r\n        if (LeadOutGridRunTime.prototype == null) {\r\n            LeadOutGridRunTime._instance = new LeadOutGridRunTime();\r\n        }\r\n        return LeadOutGridRunTime._instance;\r\n    }\r\n    onAwake() {\r\n        this.gameList = this.getChildByName(\"gameList\");\r\n        if (GamePlatform.platformName == GamePlatform.WX) {\r\n            this.initData();\r\n        }\r\n        else {\r\n            this.visible = false;\r\n        }\r\n    }\r\n    initData() {\r\n        this.gl = StaticData.getGameListRadom(6);\r\n        if (this.gl != null && this.gl.length > 0) {\r\n            this.gameList.array = this.gl;\r\n            this.gameList.renderHandler = Laya.Handler.create(this, this.updateItem, null, false);\r\n        }\r\n    }\r\n    updateItem(call, index) {\r\n        let item = this.gl[index];\r\n        if (item != null) {\r\n            let gameIcon = call.getChildByName(\"gameIcon\");\r\n            let gameName = call.getChildByName(\"gameName\");\r\n            if (gameIcon != null) {\r\n                gameIcon.loadImage(item.img, Laya.Handler.create(this, () => {\r\n                    let cmaskSpr = new Laya.Sprite();\r\n                    cmaskSpr.width = gameIcon.width;\r\n                    cmaskSpr.height = gameIcon.height;\r\n                    cmaskSpr.loadImage(\"images/leadout_icon_bg.png\");\r\n                    gameIcon.mask = cmaskSpr;\r\n                }));\r\n            }\r\n            gameName.text = item.title;\r\n            call.on(Laya.Event.CLICK, this, function () {\r\n                LeadOutUtil.leadOut(item, this.ald_pois);\r\n            });\r\n        }\r\n        else {\r\n            call.visible = false;\r\n        }\r\n    }\r\n    setAldPois(pois) {\r\n        this.ald_pois = pois;\r\n        console.log(\"LeadOutGridRunTime 阿拉丁代号：\", pois);\r\n    }\r\n}\r\n",
  "references": [
    "E:/LayaModle/melee/src/data/StaticData.ts",
    "E:/LayaModle/melee/src/utils/LeadOutUtil.ts",
    "E:/LayaModle/melee/src/config/ConfigData.ts",
    "E:/LayaModle/melee/src/adapter/GamePlatform.ts"
  ]
}
