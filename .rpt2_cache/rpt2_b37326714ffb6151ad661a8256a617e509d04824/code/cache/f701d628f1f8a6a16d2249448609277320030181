{
  "code": "import SingtonClass from \"./SingtonClass\";\r\nimport GamePlatform from \"../adapter/GamePlatform\";\r\nimport SoundUtil from \"./SoundUtil\";\r\nexport default class OppoADUtil extends SingtonClass {\r\n    static init() {\r\n        if (GamePlatform.platformName == GamePlatform.OPPO) {\r\n            OppoADUtil.initAD();\r\n            OppoADUtil.initVideo();\r\n        }\r\n    }\r\n    static initAD() {\r\n        GamePlatform.platform.initAdService({\r\n            appId: OppoADUtil.APP_ID,\r\n            isDebug: false,\r\n            success: function (res) {\r\n                console.log(\"oppo initAD success\");\r\n            },\r\n            fail: function (res) {\r\n                console.log(\"oppo initAD fail:\" + res.code + res.msg);\r\n            },\r\n            complete: function (res) {\r\n                console.log(\"oppo initAD complete\");\r\n            }\r\n        });\r\n    }\r\n    static initVideo() {\r\n        OppoADUtil.videoAd = GamePlatform.platform.createRewardedVideoAd({\r\n            posId: OppoADUtil.VIDEO_ID,\r\n        });\r\n        OppoADUtil.videoAd.load();\r\n        OppoADUtil.videoAd.onLoad(() => {\r\n            console.log(\"oppo video load success\");\r\n            if (OppoADUtil.videoAdIsLoad) {\r\n                OppoADUtil.video();\r\n            }\r\n            else {\r\n                OppoADUtil.videoAdIsLoad = true;\r\n            }\r\n        });\r\n        OppoADUtil.videoAd.onVideoStart(() => {\r\n            console.log(\"oppo video onVideoStart\");\r\n        });\r\n        OppoADUtil.videoAd.onError((err) => {\r\n            console.log(\"oppo video onError:\", err);\r\n            if (OppoADUtil.adOptions != null && OppoADUtil.adOptions != undefined && OppoADUtil.adOptions.error) {\r\n                OppoADUtil.adOptions.error();\r\n                SoundUtil.playBgm();\r\n                OppoADUtil.videoAdIsLoad = false;\r\n                OppoADUtil.videoAd.load();\r\n            }\r\n        });\r\n        OppoADUtil.videoAd.onClose((res) => {\r\n            console.log(\"oppo video onClose\");\r\n            if (res.isEnded) {\r\n                if (OppoADUtil.adOptions != null && OppoADUtil.adOptions != undefined && OppoADUtil.adOptions.success)\r\n                    OppoADUtil.adOptions.success();\r\n            }\r\n            else {\r\n                if (OppoADUtil.adOptions != null && OppoADUtil.adOptions != undefined && OppoADUtil.adOptions.fail)\r\n                    OppoADUtil.adOptions.fail();\r\n            }\r\n            SoundUtil.playBgm();\r\n            OppoADUtil.videoAdIsLoad = false;\r\n            OppoADUtil.videoAd.load();\r\n        });\r\n    }\r\n    static video(options = {}) {\r\n        if (OppoADUtil.videoAdIsLoad) {\r\n            OppoADUtil.adOptions = options;\r\n            OppoADUtil.videoAd.show();\r\n        }\r\n        else {\r\n            OppoADUtil.videoAdIsLoad = true;\r\n            OppoADUtil.videoAd.load();\r\n        }\r\n    }\r\n    static initBanner() {\r\n        if (OppoADUtil.isShowBanner) {\r\n            return;\r\n        }\r\n        else {\r\n            console.log(\"oppo initBanner\");\r\n            OppoADUtil.isShowBanner = true;\r\n            Laya.timer.once(500, this, () => {\r\n                OppoADUtil.bannerAd = GamePlatform.platform.createBannerAd({\r\n                    posId: OppoADUtil.BANNER_ID\r\n                });\r\n                OppoADUtil.bannerAd.show();\r\n            });\r\n        }\r\n    }\r\n    static showBanner() {\r\n        if (!OppoADUtil.isShowBanner) {\r\n            console.log(\"oppo showBanner\");\r\n            OppoADUtil.initBanner();\r\n        }\r\n    }\r\n    static hideBanner() {\r\n        Laya.timer.clearAll(this);\r\n        if (OppoADUtil.bannerAd != null && OppoADUtil.isShowBanner) {\r\n            console.log(\"oppo hideBanner\");\r\n            OppoADUtil.isShowBanner = false;\r\n            OppoADUtil.bannerAd.destroy();\r\n        }\r\n    }\r\n}\r\nOppoADUtil.VIDEO_ID = \"134256\";\r\nOppoADUtil.BANNER_ID = \"134254\";\r\nOppoADUtil.APP_ID = \"30213416\";\r\nOppoADUtil.videoAdIsLoad = false;\r\nOppoADUtil.isShowBanner = false;\r\n",
  "references": [
    "E:/LayaModle/melee/src/utils/SingtonClass.ts",
    "E:/LayaModle/melee/src/adapter/GamePlatform.ts",
    "E:/LayaModle/melee/src/utils/SoundUtil.ts"
  ]
}
