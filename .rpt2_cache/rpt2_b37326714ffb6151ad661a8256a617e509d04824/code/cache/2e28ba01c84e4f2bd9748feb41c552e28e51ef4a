{
  "code": "import SingtonClass from \"./SingtonClass\";\r\nimport StaticData from \"../data/StaticData\";\r\nimport UserData from \"../data/UserData\";\r\nimport TipsUtil from \"./TipsUtil\";\r\nimport GamePlatform from \"../adapter/GamePlatform\";\r\nexport default class AldUtil extends SingtonClass {\r\n    static stageStart() {\r\n        if (GamePlatform.platformName == GamePlatform.WX) {\r\n            let obj = {\r\n                \"stageId\": String(StaticData.level + 1),\r\n                \"stageName\": String(StaticData.getLevelData(StaticData.level).stationInfo.name),\r\n                \"userId\": UserData.OpenId\r\n            };\r\n            try {\r\n                if (Laya.Browser.onWeiXin || Laya.Browser.onQQMiniGame) {\r\n                    GamePlatform.platform.aldStage.onStart(obj);\r\n                }\r\n            }\r\n            catch (error) {\r\n                console.log(error);\r\n            }\r\n        }\r\n    }\r\n    static stageRunning() {\r\n        if (GamePlatform.platformName == GamePlatform.WX) {\r\n            let obj = {\r\n                \"stageId\": String(StaticData.level + 1),\r\n                \"stageName\": String(StaticData.getLevelData(StaticData.level).stationInfo.name),\r\n                \"userId\": UserData.OpenId,\r\n                \"event\": \"revive\"\r\n            };\r\n            console.log(\"ald running:\", obj);\r\n            try {\r\n                if (Laya.Browser.onWeiXin || Laya.Browser.onQQMiniGame) {\r\n                    GamePlatform.platform.aldStage.onRunning(obj);\r\n                }\r\n            }\r\n            catch (error) {\r\n                console.log(error);\r\n            }\r\n        }\r\n    }\r\n    static stageEnd(_event) {\r\n        if (GamePlatform.platformName == GamePlatform.WX) {\r\n            let obj = {\r\n                \"stageId\": String(StaticData.level + 1),\r\n                \"stageName\": String(StaticData.getLevelData(StaticData.level).stationInfo.name),\r\n                \"userId\": UserData.OpenId,\r\n                \"event\": _event ? \"complete\" : \"fail\"\r\n            };\r\n            console.log(\"ald end:\", obj);\r\n            try {\r\n                if (Laya.Browser.onWeiXin || Laya.Browser.onQQMiniGame) {\r\n                    GamePlatform.platform.aldStage.onEnd(obj);\r\n                }\r\n            }\r\n            catch (error) {\r\n                console.log(error);\r\n            }\r\n        }\r\n    }\r\n    static upload(obj) {\r\n        if (GamePlatform.platformName == GamePlatform.WX) {\r\n            if (obj == null) {\r\n                TipsUtil.msg(\"----------阿拉丁：未知----------\");\r\n                return;\r\n            }\r\n            try {\r\n                console.log(\"ald-upload：\", obj);\r\n                if (Laya.Browser.onWeiXin || Laya.Browser.onQQMiniGame) {\r\n                    GamePlatform.platform.aldSendEvent(obj == null ? \"未知\" : obj);\r\n                }\r\n            }\r\n            catch (error) {\r\n                console.log(error);\r\n            }\r\n        }\r\n    }\r\n}\r\n",
  "references": [
    "E:/LayaModle/melee/src/utils/SingtonClass.ts",
    "E:/LayaModle/melee/src/data/StaticData.ts",
    "E:/LayaModle/melee/src/data/UserData.ts",
    "E:/LayaModle/melee/src/utils/TipsUtil.ts",
    "E:/LayaModle/melee/src/adapter/GamePlatform.ts"
  ]
}
