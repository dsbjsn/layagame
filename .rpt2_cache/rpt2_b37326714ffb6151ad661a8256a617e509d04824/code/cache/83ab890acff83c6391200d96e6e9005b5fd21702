{
  "code": "import StaticData from \"../../data/StaticData\";\r\nimport SoundUtil from \"../../utils/SoundUtil\";\r\nimport ConfigData from \"../../config/ConfigData\";\r\nimport GamePlatform from \"../../adapter/GamePlatform\";\r\nimport BaseDialogManage from \"../dialogManage/BaseDialogManage\";\r\nexport default class MuneDialogManage extends BaseDialogManage {\r\n    onEnable() {\r\n        super.onEnable();\r\n        this.owner.popupEffect = new Laya.Handler(this, function (dialog) {\r\n            dialog.x = -StaticData.gameWidth;\r\n            dialog.y = 0;\r\n            dialog.scaleX = 1;\r\n            dialog.scaleY = 1;\r\n            Laya.Tween.to(dialog, { x: 0, y: 0 }, 300, Laya.Ease.linearNone);\r\n        });\r\n        this.owner.closeEffect = new Laya.Handler(this, function (dialog) {\r\n            Laya.Tween.to(dialog, { x: -StaticData.gameWidth, y: 0 }, 500, Laya.Ease.linearNone);\r\n        });\r\n        this.bgImg = this.owner.getChildByName(\"bgImg\");\r\n        this.backSpr = this.owner.getChildByName(\"backSpr\");\r\n        this.soundSpr = this.owner.getChildByName(\"soundSpr\");\r\n        this.kfSpr = this.owner.getChildByName(\"kfSpr\");\r\n        this.quanSpr = this.owner.getChildByName(\"quanSpr\");\r\n        this.hotSpr = this.owner.getChildByName(\"hotGameSpr\");\r\n        this._back = this.owner.getChildByName(\"_back\");\r\n        this.owner.y = 0;\r\n        this.owner.height = StaticData.gameHeight;\r\n        this.backSpr.height = StaticData.gameHeight;\r\n        this.backSpr.on(Laya.Event.CLICK, this, () => {\r\n            Laya.Dialog.open(ConfigData.StartGameDialog);\r\n            this.owner.close();\r\n            if (GamePlatform.platformName == GamePlatform.WX && Laya.Browser.onWeiXin && this.wxbutton != null) {\r\n                this.wxbutton.destroy();\r\n            }\r\n        });\r\n        if (SoundUtil.isPlayMusic) {\r\n            this.soundSpr.loadImage(\"images/mune_v.png\");\r\n        }\r\n        else {\r\n            this.soundSpr.loadImage(\"images/mune_v_n.png\");\r\n        }\r\n        this.soundSpr.on(Laya.Event.CLICK, this, () => {\r\n            if (SoundUtil.isPlayMusic) {\r\n                SoundUtil.stopMusic();\r\n                this.soundSpr.loadImage(\"images/mune_v_n.png\");\r\n            }\r\n            else {\r\n                SoundUtil.playMusic();\r\n                this.soundSpr.loadImage(\"images/mune_v.png\");\r\n            }\r\n        });\r\n        this.kfSpr.on(Laya.Event.CLICK, this, () => {\r\n            if (Laya.Browser.onWeiXin || Laya.Browser.onQQMiniGame) {\r\n                GamePlatform.platform.openCustomerServiceConversation({});\r\n            }\r\n        });\r\n        this.hotSpr.on(Laya.Event.CLICK, this, () => {\r\n            Laya.Dialog.open(ConfigData.OthersGamesDialog);\r\n        });\r\n        this._back.on(Laya.Event.CLICK, this, () => {\r\n            Laya.Dialog.open(ConfigData.StartGameDialog);\r\n            this.owner.close();\r\n        });\r\n        if (GamePlatform.platformName == GamePlatform.WX && Laya.Browser.onWeiXin) {\r\n            let sysInfo = GamePlatform.platform.getSystemInfoSync();\r\n            let wxWidth = sysInfo.screenWidth;\r\n            let wxHeight = sysInfo.screenHeight;\r\n            let xPercent = this.quanSpr.x / StaticData.gameWidth;\r\n            let yPercent = this.quanSpr.y / StaticData.gameHeight;\r\n            let wPercent = this.quanSpr.width / StaticData.gameWidth;\r\n            let hPercent = this.quanSpr.height / StaticData.gameHeight;\r\n            this.wxbutton = GamePlatform.platform.createGameClubButton({\r\n                type: \"image\",\r\n                image: 'images/mune_q.png',\r\n                icon: \"white\",\r\n                style: {\r\n                    left: wxWidth * xPercent,\r\n                    top: wxHeight * yPercent,\r\n                    width: wxWidth * wPercent,\r\n                    height: wxHeight * hPercent,\r\n                }\r\n            });\r\n        }\r\n        ;\r\n        if (GamePlatform.platformName != GamePlatform.WX) {\r\n            this.kfSpr.visible = false;\r\n            this.quanSpr.visible = false;\r\n            this.hotSpr.visible = false;\r\n        }\r\n    }\r\n    onDisable() {\r\n        super.onDisable();\r\n        if (GamePlatform.platformName == GamePlatform.WX && Laya.Browser.onWeiXin && this.wxbutton != null) {\r\n            this.wxbutton.destroy();\r\n        }\r\n    }\r\n}\r\n",
  "references": [
    "E:/LayaModle/melee/src/data/StaticData.ts",
    "E:/LayaModle/melee/src/utils/SoundUtil.ts",
    "E:/LayaModle/melee/src/config/ConfigData.ts",
    "E:/LayaModle/melee/src/adapter/GamePlatform.ts",
    "E:/LayaModle/melee/src/manages/dialogManage/BaseDialogManage.ts"
  ]
}
